"use strict";(self.webpackChunkflightbooker=self.webpackChunkflightbooker||[]).push([[482],{5515:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ct}});var a=n(2791),r=n(6871),i=n(6030),c=n(1413),l=n(5861),s=n(2982),o=n(7757),u=n.n(o),d=n(7221),p=n(774),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ROUTE":return[].concat((0,s.Z)(e),[t.data]);case"INIT_ROUTES":return t.data;case"DEL_ROUTE":return e.filter((function(e){return e.id!==t.data.id}));case"UPDATE_ROUTE":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},h=n(9314),x="/api/places",f=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.post(x,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:h.r}},e.next=3,h.x1.get(x,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,l.Z)(u().mark((function e(t,n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h.r}},e.next=3,h.x1.put("".concat(x,"/activity/").concat(t),n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g={create:f,getAll:y,update:v},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PLACE":return[].concat((0,s.Z)(e),[t.data]);case"INIT_PLACES":return t.data;case"UPDATE_PLACE":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},Z="/api/planeModels",b=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.post(Z,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:h.r}},e.next=3,h.x1.get(Z,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.get("".concat(Z,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.delete("".concat(Z,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,l.Z)(u().mark((function e(t,n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h.r}},e.next=3,h.x1.put("".concat(Z,"/activity/").concat(t),n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R={create:b,getAll:I,remove:C,getOne:w,update:N},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PLANEMODEL":return[].concat((0,s.Z)(e),[t.data]);case"INIT_PLANEMODELS":return t.data;case"DEL_PLANEMODELS":return e.filter((function(e){return e.id!==t.data.id}));case"UPDATE_PLANEMODEL":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},k=n(3939),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_FLIGHT":return[].concat((0,s.Z)(e),[t.data]);case"INIT_FLIGHTS":return t.data;default:return e}},S="/api/planes",D=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.post(S,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:h.r}},e.next=3,h.x1.get(S,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.delete("".concat(S,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,l.Z)(u().mark((function e(t,n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h.r}},e.next=3,h.x1.put("".concat(S,"/activity/").concat(t),n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M={create:D,getAll:L,remove:B,update:P},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PLANE":return[].concat((0,s.Z)(e),[t.data]);case"INIT_PLANES":return t.data;case"DEL_PLANE":return e.filter((function(e){return e.id!==t.data.id}));case"UPDATE_PLANE":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},T=n(9469),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOOKING":return[].concat((0,s.Z)(e),[t.data]);case"INIT_BOOKINGS":return t.data;case"UPDATE_BOOKING":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},O=n(7613),G=n(885),U=n(8008),J=n(8113),K=n(9132),_=n(4417),z=n(501),W=n(8562),q=n(6228),V=n(8001),Y=n(3504),Q=n(4642),X=n(184),$={width:140,minWidth:140},ee=function(){var e=(0,a.useState)(!1),t=(0,G.Z)(e,2),n=t[0],i=t[1],c=(0,r.UO)()["*"],l=n?{backgroundColor:"#383838",justifyContent:"left",paddingLeft:30}:{backgroundColor:"#383838"},s=n?{justifyContent:"left",paddingLeft:20,paddingRight:20}:null;return(0,X.jsxs)("section",{className:"admin-sidebar",style:n?$:{},children:[(0,X.jsxs)("button",{className:"admin-sidebar-top admin-sidebar-menu-icon",onClick:function(){i(!n)},type:"button",tabIndex:0,children:[(0,X.jsx)(U.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"DashBoard"}):null]}),(0,X.jsxs)("nav",{className:"admin-sidebar-middle",children:[(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/planeModels",style:"planeModels"===c?l:s,children:[(0,X.jsx)(V.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Models"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/planes",style:"planes"===c?l:s,children:[(0,X.jsx)(J.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Planes"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/flights",style:"flights"===c?l:s,children:[(0,X.jsx)(_.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Flights"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/customers",style:"customers"===c?l:s,children:[(0,X.jsx)(z.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Customers"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/bookings",style:"bookings"===c?l:s,children:[(0,X.jsx)(q.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Bookings"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/routes",style:"routes"===c?l:s,children:[(0,X.jsx)(K.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Routes"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/places",style:"places"===c?l:s,children:[(0,X.jsx)(W.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Places"}):null]}),(0,X.jsxs)(Y.rU,{className:"admin-sidebar-icon-container",to:"/admin/flightmap",style:"flightmap"===c?l:s,children:[(0,X.jsx)(Q.Z,{className:"admin-sidebar-icon"}),n?(0,X.jsx)("div",{className:"admin-sidebar-text",children:"Flight Map"}):null]})]})]})},te=n(6151),ne=function(){var e=(0,i.v9)((function(e){return e.admin})),t=(0,i.I0)();return(0,X.jsxs)("header",{className:"admin-header",children:[(0,X.jsx)("div",{className:"admin-header-backbtn",children:(0,X.jsx)(te.Z,{variant:"text",children:(0,X.jsx)(Y.rU,{to:"/",style:{textDecoration:"none"},children:"Back To Main"})})}),(0,X.jsxs)("div",{className:"admin-header-admin",children:["Logged in as ".concat(e.username),(0,X.jsx)(te.Z,{onClick:function(){t((0,O.rK)())},variant:"text",children:"Log Out"})]})]})},ae=n(502),re=n(338),ie=function(){var e=(0,a.useState)(""),t=(0,G.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(""),l=(0,G.Z)(c,2),s=l[0],o=l[1],u=(0,i.I0)();return(0,X.jsx)("div",{className:"loginpage",children:(0,X.jsxs)("div",{className:"loginform",children:[(0,X.jsx)("h2",{children:"Log in to Admin Application"}),(0,X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u((0,O.cW)({username:n,password:s}))},children:[(0,X.jsx)("div",{children:(0,X.jsx)(ae.Z,{label:"Username",id:"username",type:"text",value:n,name:"Username",onChange:function(e){var t=e.target;return r(t.value)}})}),(0,X.jsx)("div",{children:(0,X.jsx)(ae.Z,{label:"Password",id:"password",type:"password",value:s,name:"Password",onChange:function(e){var t=e.target;return o(t.value)}})}),(0,X.jsx)(re.Z,{id:"login-button",variant:"contained",color:"primary",type:"submit",children:"login"})]})]})})},ce=n(2735),le=n(9281),se=n(703),oe=n(9836),ue=n(6890),de=n(5855),pe=n(3994),me=n(3382),he=n(2740),xe=function(e){var t=e.places,n=(0,a.useState)(""),r=(0,G.Z)(n,2),s=r[0],o=r[1],m=(0,a.useState)(""),h=(0,G.Z)(m,2),x=h[0],f=h[1],y=(0,i.I0)();return(0,X.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),s&&x)?y((t={originId:s.id,destinationId:x.id},function(){var e=(0,l.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.create(t);case 3:a=e.sent,n({type:"CREATE_ROUTE",data:a}),n((0,p.R)("Succesfully created a new route!",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,p.R)("Error: Failed to create new route.",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())):y((0,p.R)("Error: Please select a place",5))},children:[(0,X.jsxs)("div",{className:"admin-routes-form",children:[(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,autoSelect:!1,options:t.filter((function(e){return e.active})).filter((function(e){return e.name!==(null===x||void 0===x?void 0:x.name)})),isOptionEqualToValue:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},sx:{width:300},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{variant:"outlined",label:"Origin"}))},onChange:function(e,t){return o(t)}}),(0,X.jsx)("div",{style:{width:30}}),(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,options:t.filter((function(e){return e.active})).filter((function(e){return e.name!==(null===s||void 0===s?void 0:s.name)})),autoSelect:!1,isOptionEqualToValue:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},sx:{width:300},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{variant:"outlined",label:"Destination"}))},onChange:function(e,t){return f(t)}})]}),(0,X.jsx)(te.Z,{variant:"contained",color:"success",type:"submit",children:"Create a new route"})]})},fe=xe,ye=function(e){var t=e.routes,n=e.places,r=(0,a.useState)(!0),s=(0,G.Z)(r,2),o=s[0],m=s[1],h=(0,a.useState)(""),x=(0,G.Z)(h,2),f=x[0],y=x[1],v=(0,i.I0)(),g=function(e){v(function(e){return function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.Z.update(e.id,(0,c.Z)((0,c.Z)({},e),{},{active:!e.active}));case 3:a=t.sent,n({type:"UPDATE_ROUTE",data:a}),n((0,p.R)("Succesfully updated a new route!",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n((0,p.R)("Error: Failed to update new route.",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},j=o?"Make a new route":"cancel",Z=o||{color:"error"};return(0,X.jsxs)("article",{className:"admin-routes-page",children:[(0,X.jsx)("header",{className:"admin-routes-header",children:"Routes"}),(0,X.jsx)("div",{className:"admin-routes-form-container",children:(0,X.jsx)("div",{hidden:o,children:(0,X.jsx)(fe,{places:n})})}),(0,X.jsx)("div",{className:"admin-routes-buttons",children:(0,X.jsx)(te.Z,(0,c.Z)((0,c.Z)({variant:"contained"},Z),{},{onClick:function(){return m(!o)},children:j}))}),(0,X.jsxs)("div",{className:"admin-routes-table",children:[(0,X.jsx)(ce.Z,{className:"admin-routes-searchBar",label:"Search",variant:"filled",value:f,onChange:function(e){return y(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"right",children:"Origin"}),(0,X.jsx)(pe.Z,{align:"right",children:"Destination"}),(0,X.jsx)(pe.Z,{align:"center",children:"Status"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.filter((function(e){return e.origin.name.toLowerCase().includes(f.toLowerCase())||e.destination.name.toLowerCase().includes(f.toLowerCase())})).map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"right",children:e.origin.name}),(0,X.jsx)(pe.Z,{align:"right",children:e.destination.name}),(0,X.jsx)(pe.Z,{align:"center",children:(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){return g(e)},color:e.active?"success":"error",children:e.active?"Active":"Not Active"})}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/routes/".concat(e.id),children:"Look Up Flights"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]})},ve=ye,ge=function(e){var t=e.planeModels,n=(0,a.useState)(""),r=(0,G.Z)(n,2),s=r[0],o=r[1],d=(0,a.useState)(""),m=(0,G.Z)(d,2),h=m[0],x=m[1],f=(0,i.I0)();return(0,X.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),""!==s&&""!==h)?(f((t={name:s,modelId:h.id},function(){var e=(0,l.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.create(t);case 3:a=e.sent,n({type:"CREATE_PLANE",data:a}),n((0,p.R)("Succesfully created a new plane!",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,p.R)("Error: Failed to create new plane.",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),o(""),x("")):f((0,p.R)("Error: Must provide name and model.",5))},children:[(0,X.jsxs)("div",{className:"admin-planes-form",children:[(0,X.jsx)("div",{children:(0,X.jsx)(ce.Z,{sx:{width:300},label:"Name (PR 123)",variant:"outlined",value:s,onChange:function(e){return o(e.target.value)}})}),(0,X.jsx)("div",{className:"admin-planes-form-dest",children:(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,options:t.filter((function(e){return e.active})),autoSelect:!1,getOptionLabel:function(e){return e.name},sx:{width:300},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{variant:"outlined",label:"Model Name"}))},onChange:function(e,t){return x(t)}})})]}),(0,X.jsx)(te.Z,{variant:"contained",color:"success",type:"submit",children:"Create a new plane"})]})},je=ge,Ze=function(e){var t=e.planes,n=e.planeModels,r=(0,a.useState)(!0),s=(0,G.Z)(r,2),o=s[0],d=s[1],m=(0,a.useState)(""),h=(0,G.Z)(m,2),x=h[0],f=h[1],y=(0,i.I0)(),v=function(e){y(function(e){return function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.update(e.id,(0,c.Z)((0,c.Z)({},e),{},{active:!e.active}));case 3:a=t.sent,n({type:"UPDATE_PLANE",data:a}),n((0,p.R)("Succesfully updated a new plane!",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n((0,p.R)("Error: Failed to update new plane.",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},g=o?"Make a new plane":"cancel",j=o||{color:"error"};return(0,X.jsxs)("article",{className:"adminPlanesPage",children:[(0,X.jsx)("header",{className:"admin-planes-header",children:"Planes"}),(0,X.jsx)("div",{className:"admin-planes-form-container",children:(0,X.jsx)("div",{hidden:o,children:(0,X.jsx)(je,{planeModels:n})})}),(0,X.jsx)("div",{className:"admin-planes-buttons",children:(0,X.jsx)(te.Z,(0,c.Z)((0,c.Z)({variant:"contained"},j),{},{onClick:function(){return d(!o)},children:g}))}),(0,X.jsxs)("div",{className:"admin-planes-table",children:[(0,X.jsx)(ce.Z,{className:"planes-searchbar",label:"Search",variant:"filled",value:x,onChange:function(e){return f(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"right",children:"Name"}),(0,X.jsx)(pe.Z,{align:"right",children:"Model"}),(0,X.jsx)(pe.Z,{align:"center",children:"Status"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())})).map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"right",children:e.name}),(0,X.jsx)(pe.Z,{align:"right",children:e.model.name}),(0,X.jsx)(pe.Z,{align:"center",children:(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){return v(e)},color:e.active?"success":"error",children:e.active?"Active":"Not Active"})}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/planes/".concat(e.id),children:"Look Up Flights"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]})},be=Ze,Ie=function(){var e=(0,a.useState)(""),t=(0,G.Z)(e,2),n=t[0],r=t[1],c=(0,i.I0)();return(0,X.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),n.match("[a-zA-Z]+ \\([A-Z]{3}\\)\\s-\\s[a-zA-Z]+")?(c((t={name:n},function(){var e=(0,l.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.create(t);case 3:a=e.sent,n({type:"CREATE_PLACE",data:a}),n((0,p.R)("Succesfully created a new place!",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,p.R)("Error: Failed to create new place.",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),r("")):c((0,p.R)("Error: invalid place format. (City (CTY) - Country)",5))},children:[(0,X.jsx)("div",{className:"admin-places-form",children:(0,X.jsx)("div",{children:(0,X.jsx)(ce.Z,{sx:{width:300},label:"City (CTY) - Country",variant:"outlined",value:n,onChange:function(e){return r(e.target.value)}})})}),(0,X.jsx)(te.Z,{variant:"contained",color:"success",type:"submit",children:"Create a new place"})]})},we=Ie,Ce=function(e){var t=e.places,n=(0,a.useState)(!0),r=(0,G.Z)(n,2),s=r[0],o=r[1],d=(0,a.useState)(""),m=(0,G.Z)(d,2),h=m[0],x=m[1],f=(0,i.I0)(),y=function(e){f(function(e){return function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.update(e.id,(0,c.Z)((0,c.Z)({},e),{},{active:!e.active}));case 3:a=t.sent,n({type:"UPDATE_PLACE",data:a}),n((0,p.R)("Succesfully updated a new place!",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n((0,p.R)("Error: Failed to update new place.",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},v=s?"Make a new place":"cancel",j=s||{color:"error"};return(0,X.jsxs)("article",{className:"admin-places-page",children:[(0,X.jsx)("header",{className:"admin-places-header",children:"Places"}),(0,X.jsx)("div",{className:"admin-places-form-container",children:(0,X.jsx)("div",{hidden:s,children:(0,X.jsx)(we,{})})}),(0,X.jsx)("div",{className:"admin-places-buttons",children:(0,X.jsx)(te.Z,(0,c.Z)((0,c.Z)({variant:"contained"},j),{},{onClick:function(){return o(!s)},children:v}))}),(0,X.jsxs)("div",{className:"admin-places-table",children:[(0,X.jsx)(ce.Z,{className:"places-searchbar",label:"Search",variant:"filled",value:h,onChange:function(e){return x(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"center",children:"Name"}),(0,X.jsx)(pe.Z,{align:"center",children:"Active"})]})}),(0,X.jsx)(me.Z,{children:t.filter((function(e){return e.name.toLowerCase().match(h.toLowerCase())})).map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"center",children:e.name}),(0,X.jsx)(pe.Z,{align:"center",children:(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){return y(e)},color:e.active?"success":"error",children:e.active?"Active":"Not Active"})})]},e.id)}))})]})})]})]})},Ne=Ce,Re=n(6488),Ee=n(5574),ke=n(7123),Ae=n(9157),Se=n(5661),De=n(3466),Le=[{type:"greyRight",placement:"A9"},{type:"exit",placement:"A10"},{type:"greyRight",placement:"A8"},{type:"greyRight",placement:"A7"},{type:"greyRight",placement:"A6"},{type:"greyRight",placement:"A5"},{type:"greyRight",placement:"A11"},{type:"greyRight",placement:"A12"},{type:"greyRight",placement:"A13"},{type:"greyRight",placement:"A14"},{type:"greyRight",placement:"A15"},{type:"greyRight",placement:"A16"},{type:"greyRight",placement:"A17"},{type:"greyRight",placement:"A18"},{type:"greyRight",placement:"A19"},{type:"greyLeft",placement:"K5"},{type:"greyLeft",placement:"K6"},{type:"greyLeft",placement:"K7"},{type:"greyLeft",placement:"K8"},{type:"greyLeft",placement:"K9"},{type:"exit",placement:"K10"},{type:"greyLeft",placement:"K11"},{type:"greyLeft",placement:"K12"},{type:"greyLeft",placement:"K13"},{type:"greyLeft",placement:"K14"},{type:"greyLeft",placement:"K15"},{type:"greyLeft",placement:"K16"},{type:"greyLeft",placement:"K17"},{type:"greyLeft",placement:"K18"},{type:"greyLeft",placement:"K19"},{type:"businessSeat",placement:"D2",nameId:"B1"},{type:"seat",placement:"C8",nameId:"A7"},{type:"seat",placement:"C9",nameId:"A8"},{type:"seat",placement:"C13",nameId:"A10"},{type:"seat",placement:"D13",nameId:"B10"},{type:"seat",placement:"D11",nameId:"B9"},{type:"seat",placement:"D9",nameId:"B8"},{type:"seat",placement:"D8",nameId:"B7"},{type:"businessSeat",placement:"D4",nameId:"B3"},{type:"businessSeat",placement:"D3",nameId:"B2"},{type:"businessSeat",placement:"E3",nameId:"C2"},{type:"businessSeat",placement:"E2",nameId:"C1"},{type:"businessSeat",placement:"E4",nameId:"C3"},{type:"seat",placement:"E8",nameId:"C7"},{type:"seat",placement:"E9",nameId:"C8"},{type:"seat",placement:"E11",nameId:"C9"},{type:"seat",placement:"E13",nameId:"C10"},{type:"seat",placement:"G13",nameId:"D10"},{type:"seat",placement:"G11",nameId:"D9"},{type:"seat",placement:"G9",nameId:"D8"},{type:"seat",placement:"G8",nameId:"D7"},{type:"businessSeat",placement:"G4",nameId:"D3"},{type:"businessSeat",placement:"G3",nameId:"D2"},{type:"businessSeat",placement:"G2",nameId:"D1"},{type:"businessSeat",placement:"H2",nameId:"E1"},{type:"seat",placement:"I8",nameId:"F7"},{type:"seat",placement:"I9",nameId:"F8"},{type:"seat",placement:"H13",nameId:"E10"},{type:"seat",placement:"I13",nameId:"F10"},{type:"seat",placement:"H11",nameId:"E9"},{type:"seat",placement:"H9",nameId:"E8"},{type:"seat",placement:"H8",nameId:"E7"},{type:"businessSeat",placement:"H4",nameId:"E3"},{type:"businessSeat",placement:"H3",nameId:"E2"},{type:"seat",placement:"C17",nameId:"A14"},{type:"seat",placement:"C18",nameId:"A15"},{type:"seat",placement:"C19",nameId:"A16"},{type:"seat",placement:"D19",nameId:"B16"},{type:"seat",placement:"D18",nameId:"B15"},{type:"seat",placement:"D17",nameId:"B14"},{type:"seat",placement:"E19",nameId:"C16"},{type:"seat",placement:"E18",nameId:"C15"},{type:"seat",placement:"E17",nameId:"C14"},{type:"seat",placement:"G17",nameId:"D14"},{type:"seat",placement:"G18",nameId:"D15"},{type:"seat",placement:"G19",nameId:"D16"},{type:"seat",placement:"H18",nameId:"E15"},{type:"seat",placement:"H17",nameId:"E14"},{type:"seat",placement:"H19",nameId:"E16"},{type:"seat",placement:"I18",nameId:"F15"},{type:"seat",placement:"I17",nameId:"F14"},{type:"greyRight",placement:"A20"},{type:"greyRight",placement:"A21"},{type:"greyRight",placement:"A22"},{type:"greyRight",placement:"A23"},{type:"greyRight",placement:"A24"},{type:"greyRight",placement:"A25"},{type:"greyRight",placement:"A27"},{type:"greyRight",placement:"A28"},{type:"greyLeft",placement:"K20"},{type:"greyLeft",placement:"K21"},{type:"greyLeft",placement:"K22"},{type:"greyLeft",placement:"K23"},{type:"greyLeft",placement:"K24"},{type:"greyLeft",placement:"K27"},{type:"greyLeft",placement:"K25"},{type:"greyLeft",placement:"K28"},{type:"seat",placement:"C20",nameId:"A17"},{type:"seat",placement:"C21",nameId:"A18"},{type:"seat",placement:"C22",nameId:"A19"},{type:"seat",placement:"C23",nameId:"A20"},{type:"seat",placement:"C24",nameId:"A21"},{type:"seat",placement:"C25",nameId:"A22"},{type:"seat",placement:"C27",nameId:"A23"},{type:"seat",placement:"C28",nameId:"A24"},{type:"seat",placement:"D28",nameId:"B24"},{type:"seat",placement:"D27",nameId:"B23"},{type:"seat",placement:"D25",nameId:"B22"},{type:"seat",placement:"D24",nameId:"B21"},{type:"seat",placement:"D23",nameId:"B20"},{type:"seat",placement:"D22",nameId:"B19"},{type:"seat",placement:"D21",nameId:"B18"},{type:"seat",placement:"D20",nameId:"B17"},{type:"seat",placement:"E20",nameId:"C17"},{type:"seat",placement:"E21",nameId:"C18"},{type:"seat",placement:"E22",nameId:"C19"},{type:"seat",placement:"E23",nameId:"C20"},{type:"seat",placement:"E24",nameId:"C21"},{type:"seat",placement:"E25",nameId:"C22"},{type:"seat",placement:"E27",nameId:"C23"},{type:"seat",placement:"E28",nameId:"C24"},{type:"seat",placement:"G20",nameId:"D17"},{type:"seat",placement:"G21",nameId:"D18"},{type:"seat",placement:"G22",nameId:"D19"},{type:"seat",placement:"G23",nameId:"D20"},{type:"seat",placement:"G24",nameId:"D21"},{type:"seat",placement:"G25",nameId:"D22"},{type:"seat",placement:"G27",nameId:"D23"},{type:"seat",placement:"G28",nameId:"D24"},{type:"seat",placement:"H28",nameId:"E24"},{type:"seat",placement:"H27",nameId:"E23"},{type:"seat",placement:"H25",nameId:"E22"},{type:"seat",placement:"H24",nameId:"E21"},{type:"seat",placement:"H23",nameId:"E20"},{type:"seat",placement:"H22",nameId:"E19"},{type:"seat",placement:"H21",nameId:"E18"},{type:"seat",placement:"H20",nameId:"E17"},{type:"seat",placement:"I20",nameId:"F17"},{type:"seat",placement:"I21",nameId:"F18"},{type:"seat",placement:"I22",nameId:"F19"},{type:"seat",placement:"I23",nameId:"F20"},{type:"seat",placement:"I24",nameId:"F21"},{type:"seat",placement:"I25",nameId:"F22"},{type:"seat",placement:"I27",nameId:"F23"},{type:"seat",placement:"I28",nameId:"F24"},{type:"greyLeft",placement:"J2"},{type:"greyLeft",placement:"J3"},{type:"greyLeft",placement:"J4"},{type:"greyRight",placement:"B2"},{type:"greyRight",placement:"B3"},{type:"greyRight",placement:"B4"},{type:"greyRight",placement:"B1"},{type:"greyLeft",placement:"J1"},{type:"seat",placement:"C14",nameId:"A11"},{type:"seat",placement:"C15",nameId:"A12"},{type:"seat",placement:"C16",nameId:"A13"},{type:"seat",placement:"E16",nameId:"C13"},{type:"seat",placement:"E15",nameId:"C12"},{type:"seat",placement:"E14",nameId:"C11"},{type:"seat",placement:"D14",nameId:"B11"},{type:"seat",placement:"D15",nameId:"B12"},{type:"seat",placement:"D16",nameId:"B13"},{type:"seat",placement:"G16",nameId:"D13"},{type:"seat",placement:"G15",nameId:"D12"},{type:"seat",placement:"G14",nameId:"D11"},{type:"seat",placement:"H14",nameId:"E11"},{type:"seat",placement:"I14",nameId:"F11"},{type:"seat",placement:"I15",nameId:"F12"},{type:"seat",placement:"H15",nameId:"E12"},{type:"seat",placement:"H16",nameId:"E13"},{type:"seat",placement:"I16",nameId:"F13"},{type:"exit",placement:"K26"},{type:"exit",placement:"A26"},{type:"seat",placement:"C29",nameId:"A25"},{type:"seat",placement:"C30",nameId:"A26"},{type:"seat",placement:"C31",nameId:"A27"},{type:"seat",placement:"C32",nameId:"A28"},{type:"seat",placement:"C33",nameId:"A29"},{type:"seat",placement:"C34",nameId:"A30"},{type:"seat",placement:"C35",nameId:"A31"},{type:"seat",placement:"C39",nameId:"A35"},{type:"seat",placement:"C38",nameId:"A34"},{type:"seat",placement:"C37",nameId:"A33"},{type:"seat",placement:"C36",nameId:"A32"},{type:"seat",placement:"D33",nameId:"B29"},{type:"seat",placement:"D31",nameId:"B27"},{type:"seat",placement:"E30",nameId:"C26"},{type:"seat",placement:"E29",nameId:"C25"},{type:"seat",placement:"E31",nameId:"C27"},{type:"seat",placement:"E32",nameId:"C28"},{type:"seat",placement:"E34",nameId:"C30"},{type:"seat",placement:"E35",nameId:"C31"},{type:"seat",placement:"E37",nameId:"C33"},{type:"seat",placement:"E38",nameId:"C34"},{type:"seat",placement:"E39",nameId:"C35"},{type:"seat",placement:"D39",nameId:"B35"},{type:"seat",placement:"D38",nameId:"B34"},{type:"seat",placement:"D37",nameId:"B33"},{type:"seat",placement:"D36",nameId:"B32"},{type:"seat",placement:"D35",nameId:"B31"},{type:"seat",placement:"D32",nameId:"B28"},{type:"seat",placement:"D30",nameId:"B26"},{type:"seat",placement:"D29",nameId:"B25"},{type:"seat",placement:"D34",nameId:"B30"},{type:"seat",placement:"E33",nameId:"C29"},{type:"seat",placement:"E36",nameId:"C32"},{type:"seat",placement:"G29",nameId:"D25"},{type:"seat",placement:"G30",nameId:"D26"},{type:"seat",placement:"G31",nameId:"D27"},{type:"seat",placement:"G32",nameId:"D28"},{type:"seat",placement:"G33",nameId:"D29"},{type:"seat",placement:"G34",nameId:"D30"},{type:"seat",placement:"G35",nameId:"D31"},{type:"seat",placement:"G36",nameId:"D32"},{type:"seat",placement:"G37",nameId:"D33"},{type:"seat",placement:"G38",nameId:"D34"},{type:"seat",placement:"G39",nameId:"D35"},{type:"seat",placement:"H39",nameId:"E35"},{type:"seat",placement:"H38",nameId:"E34"},{type:"seat",placement:"H37",nameId:"E33"},{type:"seat",placement:"H36",nameId:"E32"},{type:"seat",placement:"H35",nameId:"E31"},{type:"seat",placement:"H34",nameId:"E30"},{type:"seat",placement:"H32",nameId:"E28"},{type:"seat",placement:"H31",nameId:"E27"},{type:"seat",placement:"H30",nameId:"E26"},{type:"seat",placement:"H29",nameId:"E25"},{type:"seat",placement:"I29",nameId:"F25"},{type:"seat",placement:"I30",nameId:"F26"},{type:"seat",placement:"I31",nameId:"F27"},{type:"seat",placement:"I32",nameId:"F28"},{type:"seat",placement:"I33",nameId:"F29"},{type:"seat",placement:"I34",nameId:"F30"},{type:"seat",placement:"I35",nameId:"F31"},{type:"seat",placement:"I36",nameId:"F32"},{type:"seat",placement:"I37",nameId:"F33"},{type:"seat",placement:"I38",nameId:"F34"},{type:"seat",placement:"I39",nameId:"F35"},{type:"seat",placement:"H33",nameId:"E29"},{type:"greyRight",placement:"A29"},{type:"greyRight",placement:"A31"},{type:"greyRight",placement:"A32"},{type:"greyRight",placement:"A33"},{type:"greyRight",placement:"A34"},{type:"greyRight",placement:"A35"},{type:"greyRight",placement:"A36"},{type:"greyRight",placement:"A30"},{type:"greyRight",placement:"A37"},{type:"greyRight",placement:"A38"},{type:"greyRight",placement:"A39"},{type:"greyLeft",placement:"K29"},{type:"greyLeft",placement:"K31"},{type:"greyLeft",placement:"K32"},{type:"greyLeft",placement:"K37"},{type:"greyLeft",placement:"K38"},{type:"greyLeft",placement:"K39"},{type:"greyLeft",placement:"K36"},{type:"greyLeft",placement:"K35"},{type:"greyLeft",placement:"K34"},{type:"greyLeft",placement:"K33"},{type:"greyLeft",placement:"K30"},{type:"premiumSeat",placement:"C5",nameId:"A4"},{type:"premiumSeat",placement:"C6",nameId:"A5"},{type:"premiumSeat",placement:"C7",nameId:"A6"},{type:"premiumSeat",placement:"D7",nameId:"B6"},{type:"premiumSeat",placement:"D6",nameId:"B5"},{type:"premiumSeat",placement:"D5",nameId:"B4"},{type:"premiumSeat",placement:"E5",nameId:"C4"},{type:"premiumSeat",placement:"E6",nameId:"C5"},{type:"premiumSeat",placement:"E7",nameId:"C6"},{type:"premiumSeat",placement:"G5",nameId:"D4"},{type:"premiumSeat",placement:"G6",nameId:"D5"},{type:"premiumSeat",placement:"G7",nameId:"D6"},{type:"premiumSeat",placement:"H7",nameId:"E6"},{type:"premiumSeat",placement:"I7",nameId:"F6"},{type:"premiumSeat",placement:"I6",nameId:"F5"},{type:"premiumSeat",placement:"I5",nameId:"F4"},{type:"premiumSeat",placement:"H5",nameId:"E4"},{type:"premiumSeat",placement:"H6",nameId:"E5"},{type:"editableColumn",placement:"C1",value:"A"},{type:"editableColumn",placement:"D1",value:"B"},{type:"editableColumn",placement:"E1",value:"C"},{type:"editableColumn",placement:"G1",value:"D"},{type:"editableColumn",placement:"H1",value:"E"},{type:"editableColumn",placement:"I1",value:"F"},{type:"editableRow",placement:"C2",value:"1"},{type:"editableRow",placement:"C3",value:"2"},{type:"editableRow",placement:"C4",value:"3"},{type:"editableRow",placement:"B5",value:"4"},{type:"editableRow",placement:"B6",value:"5"},{type:"editableRow",placement:"B7",value:"6"},{type:"editableRow",placement:"B8",value:"7"},{type:"editableRow",placement:"B9",value:"8"},{type:"editableRow",placement:"B11",value:"9"},{type:"editableRow",placement:"B13",value:"10"},{type:"editableRow",placement:"B14",value:"11"},{type:"editableRow",placement:"B15",value:"12"},{type:"editableRow",placement:"B16",value:"13"},{type:"editableRow",placement:"B17",value:"14"},{type:"editableRow",placement:"B18",value:"15"},{type:"editableRow",placement:"B19",value:"16"},{type:"editableRow",placement:"B20",value:"17"},{type:"editableRow",placement:"B21",value:"18"},{type:"editableRow",placement:"B22",value:"19"},{type:"editableRow",placement:"B23",value:"20"},{type:"editableRow",placement:"B24",value:"21"},{type:"editableRow",placement:"B27",value:"23"},{type:"editableRow",placement:"B28",value:"24"},{type:"editableRow",placement:"B29",value:"25"},{type:"editableRow",placement:"B30",value:"26"},{type:"editableRow",placement:"B31",value:"27"},{type:"editableRow",placement:"B32",value:"28"},{type:"editableRow",placement:"B33",value:"29"},{type:"editableRow",placement:"B34",value:"30"},{type:"editableRow",placement:"B35",value:"31"},{type:"editableRow",placement:"B37",value:"33"},{type:"editableRow",placement:"B38",value:"34"},{type:"editableRow",placement:"B39",value:"35"},{type:"editableRow",placement:"J39",value:"35"},{type:"editableRow",placement:"J38",value:"34"},{type:"editableRow",placement:"J34",value:"30"},{type:"editableRow",placement:"J33",value:"29"},{type:"editableRow",placement:"J32",value:"28"},{type:"editableRow",placement:"J31",value:"27"},{type:"editableRow",placement:"J22",value:"19"},{type:"editableRow",placement:"I4",value:"3"},{type:"editableRow",placement:"I3",value:"2"},{type:"editableRow",placement:"I2",value:"1"},{type:"editableRow",placement:"J37",value:"33"},{type:"editableRow",placement:"J35",value:"31"},{type:"editableRow",placement:"J30",value:"26"},{type:"editableRow",placement:"J29",value:"25"},{type:"editableRow",placement:"J28",value:"24"},{type:"editableRow",placement:"J27",value:"23"},{type:"editableRow",placement:"J24",value:"21"},{type:"editableRow",placement:"J23",value:"20"},{type:"editableRow",placement:"J21",value:"18"},{type:"editableRow",placement:"J20",value:"17"},{type:"editableRow",placement:"J19",value:"16"},{type:"seat",placement:"I19",nameId:"F16"},{type:"editableRow",placement:"J18",value:"15"},{type:"editableRow",placement:"J17",value:"14"},{type:"editableRow",placement:"J16",value:"13"},{type:"editableRow",placement:"J15",value:"12"},{type:"editableRow",placement:"J14",value:"11"},{type:"editableRow",placement:"J13",value:"10"},{type:"editableRow",placement:"J11",value:"9"},{type:"editableRow",placement:"J9",value:"8"},{type:"editableRow",placement:"J8",value:"7"},{type:"editableRow",placement:"J7",value:"6"},{type:"editableRow",placement:"J6",value:"5"},{type:"editableRow",placement:"J5",value:"4"},{type:"editableRow",placement:"J25",value:"22"},{type:"editableRow",placement:"B25",value:"22"},{type:"editableRow",placement:"J36",value:"32"},{type:"editableRow",placement:"B36",value:"32"}],Be=function(e){var t=e.option,n=e.placeNumber,r=e.placeLetter,c=e.boxPlacements,l=e.setBoxPlacements,o=e.setLetterColumn,u=e.letterColumn,d=e.setRow,m=e.rowNumber,h=e.floor,x="".concat(r).concat(n),f="".concat(u).concat(m),y=c[h].find((function(e){return e.placement===x})),v=(0,i.I0)(),g=(0,a.useState)(null===y||void 0===y?void 0:y.type),j=(0,G.Z)(g,2),Z=j[0],b=j[1],I=(0,a.useState)((null===y||void 0===y?void 0:y.value)||""),w=(0,G.Z)(I,2),C=w[0],N=w[1];(0,a.useEffect)((function(){"editableColumn"===(null===y||void 0===y?void 0:y.type)&&o((null===y||void 0===y?void 0:y.value)||null),"editableRow"===(null===y||void 0===y?void 0:y.type)&&d(n,(null===y||void 0===y?void 0:y.value)||null)}),[]),(0,a.useEffect)((function(){("businessSeat"===Z||"premiumSeat"===Z||"seat"===Z)&&l((function(e){var t=(0,s.Z)(e[h]),n=t.findIndex((function(e){return e.placement===x}));t[n]={type:Z,placement:x,nameId:f};var a=(0,s.Z)(e);return a[h]=t,a}))}),[m,u]);var R=function(e){l("seat"!==t&&"premiumSeat"!==t&&"businessSeat"!==t?e?function(n){var a=(0,s.Z)(n);return a[h]=n[h].find((function(e){return e.placement===x}))?n[h].map((function(e){return e.placement===x?{type:t,placement:x}:e})):n[h].concat({type:t,placement:x,value:e}),a}:function(e){var n=(0,s.Z)(e);return n[h]=e[h].find((function(e){return e.placement===x}))?e[h].map((function(e){return e.placement===x?{type:t,placement:x}:e})):e[h].concat({type:t,placement:x}),n}:function(e){var n=(0,s.Z)(e);return n[h]=e[h].find((function(e){return e.placement===x}))?e[h].map((function(e){return e.placement===x?{type:t,placement:x,nameId:f}:e})):e[h].concat({type:t,placement:x,nameId:f}),n})},E=function(e){e.buttons<=0||(b(t),""===t?(l((function(e){var t=(0,s.Z)(e);return t[h]=e[h].filter((function(e){return e.placement!==x})),t})),C===u&&(N(""),o(null)),C===String(m)&&(N(""),d(n,null))):"editableColumn"!==t&&"editableRow"!==t&&R())},k={};return"greyRight"===Z?k={background:"linear-gradient(to right, white 50%, grey 50%)"}:"greyLeft"===Z?k={background:"linear-gradient(to right, grey 50%, white 50%)"}:"exit"===Z&&(k={backgroundColor:"grey"}),(0,X.jsxs)("button",{type:"button",style:k,className:"rows",onFocus:E,onMouseOver:E,onMouseDown:E,children:["seat"===Z?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"blue"}}):null,"businessSeat"===Z?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"#ebbd34"}}):null,"premiumSeat"===Z?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"green"}}):null,"exit"===Z?(0,X.jsx)(Re.Z,{className:"icon",style:{fill:"blue"}}):null,"editableColumn"===Z||"editableRow"===Z?(0,X.jsx)("input",{className:"input",autoComplete:"off",value:C,onBlur:function(e){var a=e.target.value;"editableColumn"===t?null===u||a===u?(N(a),o(a),R(a)):(v((0,p.R)("Error: You cannot do that. Remove column with empty",5)),N(y?y.value:"")):"editableRow"===t&&(null===m||a===m?(d(n,a),R(a),N(a)):(v((0,p.R)("Error: You cannot do that. Remove column with empty",5)),N(y?y.value:"")))},onInput:function(e){return N(e.target.value)}}):null]})},Pe=function(e){for(var t=e.numOfRows,n=e.option,r=e.placeLetter,i=e.boxPlacements,c=e.setBoxPlacements,l=e.rowNumbers,o=e.setRowNumbers,u=e.floor,d=(0,a.useState)(null),p=(0,G.Z)(d,2),m=p[0],h=p[1],x=function(e,t){o((function(n){var a=(0,s.Z)(n);return a[e]=t,a}))},f=[],y=0;y<t;y+=1)f.push((0,X.jsx)(Be,{option:n,placeLetter:r,placeNumber:y,boxPlacements:i,setBoxPlacements:c,letterColumn:m,setLetterColumn:h,rowNumber:l[y]||null,setRow:x,floor:u},"".concat(r).concat(y)));return(0,X.jsx)("div",{children:f})},Me=function(e){for(var t=e.option,n=e.boxPlacements,r=e.setBoxPlacements,i=e.floor,c=(0,a.useState)(11),l=(0,G.Z)(c,2),s=l[0],o=l[1],u=(0,a.useState)(40),d=(0,G.Z)(u,2),p=d[0],m=d[1],h=(0,a.useState)(Array(50).fill(null)),x=(0,G.Z)(h,2),f=x[0],y=x[1],v=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T"],g=[],j=0;j<s;j+=1)g.push((0,X.jsx)(Pe,{numOfRows:p,option:t,placeLetter:v[j],boxPlacements:n,setBoxPlacements:r,rowNumbers:f,setRowNumbers:y,floor:i},v[j]));return(0,X.jsxs)("div",{className:"admin-planes",children:[(0,X.jsxs)("div",{className:"control-size",children:[(0,X.jsx)("button",{type:"button",onClick:function(){return o(s+1)},hidden:s>=20,children:"Add Columns"}),(0,X.jsx)("button",{type:"button",onClick:function(){return o(s-1)},hidden:s<=5,children:"Minus Columns"}),(0,X.jsx)("button",{type:"button",onClick:function(){m(p+1);var e=document.getElementById("scrollable");e.scrollTo({top:e.scrollHeight,left:0,behavior:"smooth"})},hidden:p>=50,children:"Add Rows"}),(0,X.jsx)("button",{type:"button",onClick:function(){return m(p-1)},hidden:p<=5,children:"Minus Rows"})]}),(0,X.jsx)("article",{className:"admin-planes-page",style:{gridTemplateColumns:"repeat(".concat(s,", var(--square-length)")},children:g})]})},Fe=function(){for(var e=(0,a.useState)(!1),t=(0,G.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(""),s=(0,G.Z)(c,2),o=s[0],d=s[1],m=(0,a.useState)([Le]),h=(0,G.Z)(m,2),x=h[0],f=h[1],y=(0,a.useState)(x.length),v=(0,G.Z)(y,2),g=v[0],j=v[1],Z=(0,a.useState)(""),b=(0,G.Z)(Z,2),I=b[0],w=b[1],C=(0,a.useState)(0),N=(0,G.Z)(C,2),E=N[0],k=N[1],A=(0,a.useState)(0),S=(0,G.Z)(A,2),D=S[0],L=S[1],B=(0,i.I0)(),P=function(){r(!1)},M=[],F=0;F<g;F+=1)M.push((0,X.jsx)(Me,{option:o,floor:F,boxPlacements:x,setBoxPlacements:f},F));return(0,X.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),""!==I&&0!==E&&0!==D)?(B((t={floors:x,name:I,cargoCapacity:E,passengerCapacity:D},function(){var e=(0,l.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.create(t);case 3:a=e.sent,n({type:"CREATE_PLANEMODEL",data:a}),n((0,p.R)("Succesfully created a new layout boxes!",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,p.R)("Error: Failed to create new layout boxes.",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),B((0,p.R)("Info: It might take a while...",5)),r(!1)):B((0,p.R)("Error: Must Provide a all fields.",5))},children:[(0,X.jsxs)("div",{className:"admin-planeModels-form",children:[(0,X.jsx)(ce.Z,{sx:{width:300,paddingRight:3},label:"Plane Model Name",variant:"outlined",value:I,onChange:function(e){return w(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{width:300,paddingRight:3},InputProps:{endAdornment:(0,X.jsx)(De.Z,{position:"end",children:"persons"})},label:"Passenger Capacity",variant:"outlined",value:D,onChange:function(e){return L(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{width:300,paddingRight:3},InputProps:{endAdornment:(0,X.jsx)(De.Z,{position:"end",children:"kg"})},label:"Cargo Capacity (kg)",variant:"outlined",value:E,onChange:function(e){return k(e.target.value)}}),(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){r(!0)},sx:{width:300},children:"Open seat form"}),(0,X.jsxs)(Ee.Z,{open:n,onClose:P,maxWidth:"100%",children:[(0,X.jsx)(Se.Z,{sx:{display:"flex",justifyContent:"space-between"},children:"Make an arrangement"}),(0,X.jsxs)(Ae.Z,{id:"scrollable",children:[(0,X.jsxs)("section",{className:"control-panel",children:[(0,X.jsx)("button",{type:"button",onClick:function(){return d("seat")},children:(0,X.jsx)(V.Z,{className:"icon",style:{fill:"blue"}})}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("businessSeat")},children:(0,X.jsx)(V.Z,{className:"icon",style:{fill:"#ebbd34"}})}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("premiumSeat")},children:(0,X.jsx)(V.Z,{className:"icon",style:{fill:"green"}})}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("")},children:"Empty"}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("greyRight")},children:(0,X.jsx)("div",{className:"greyRightbtn-inner"})}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("greyLeft")},children:(0,X.jsx)("div",{className:"greyLeftbtn-inner"})}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("exit")},children:(0,X.jsx)("div",{className:"exitIconbtn-inner",children:(0,X.jsx)(Re.Z,{className:"icon",style:{fill:"blue"}})})}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("editableColumn")},children:"Edit Column"}),(0,X.jsx)("button",{type:"button",onClick:function(){return d("editableRow")},children:"Edit Row"}),(0,X.jsx)("button",{type:"button",onClick:function(){return j((function(e){return x.length<g+1&&f(x.concat([[]])),e+1}))},children:"Add Floor"}),(0,X.jsx)("button",{type:"button",onClick:function(){return j((function(e){return e-1}))},children:"Remove Floor"})]}),(0,X.jsx)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"center"},children:M})]}),(0,X.jsx)(ke.Z,{children:(0,X.jsx)(te.Z,{variant:"contained",color:"info",onClick:P,children:"Done"})})]})]}),(0,X.jsx)(te.Z,{variant:"contained",color:"success",type:"submit",children:"Create new plane model"})]})},Te=Fe,He=function(e){var t=e.planeModels,n=(0,a.useState)(!0),r=(0,G.Z)(n,2),s=r[0],o=r[1],d=(0,a.useState)(""),m=(0,G.Z)(d,2),h=m[0],x=m[1],f=(0,i.I0)(),y=function(e){f(function(e){return function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.update(e.id,(0,c.Z)((0,c.Z)({},e),{},{active:!e.active}));case 3:a=t.sent,n({type:"UPDATE_PLANEMODEL",data:a}),n((0,p.R)("Succesfully updated a new plane model!",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n((0,p.R)("Error: Failed to update new plane model.",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},v=s?"Make a new plane":"cancel",g=s||{color:"error"};return(0,X.jsxs)("article",{className:"admin-seatings-page",children:[(0,X.jsx)("header",{className:"admin-seatings-header",children:"Plane Models"}),(0,X.jsx)("div",{className:"admin-seatings-form-container",children:(0,X.jsx)("div",{hidden:s,children:(0,X.jsx)(Te,{})})}),(0,X.jsx)("div",{className:"admin-seatings-buttons",children:(0,X.jsx)(te.Z,(0,c.Z)((0,c.Z)({variant:"contained"},g),{},{onClick:function(){return o(!s)},children:v}))}),(0,X.jsxs)("div",{className:"admin-seatings-table",children:[(0,X.jsx)(ce.Z,{className:"seatings-searchbar",label:"Search",variant:"filled",value:h,onChange:function(e){return x(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"center",children:"Name"}),(0,X.jsx)(pe.Z,{align:"center",children:"Passenger Capacity"}),(0,X.jsx)(pe.Z,{align:"center",children:"Cargo Capacity"}),(0,X.jsx)(pe.Z,{align:"center",children:"Active"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.filter((function(e){return e.name.toLowerCase().match(h.toLowerCase())})).map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"center",children:e.name}),(0,X.jsx)(pe.Z,{component:"th",align:"center",scope:"row",children:e.passengerCapacity}),(0,X.jsx)(pe.Z,{align:"center",children:"".concat(e.cargoCapacity," kg")}),(0,X.jsx)(pe.Z,{align:"center",children:(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){return y(e)},color:e.active?"success":"error",children:e.active?"Active":"Not Active"})}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/planeModels/".concat(e.id),children:"Look Up Model"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]})},Oe=He,Ge=function(e){var t=e.planeModel,n=(0,a.useState)([[]]),r=(0,G.Z)(n,2),i=r[0],c=r[1];(0,a.useLayoutEffect)((function(){var e=[],n=[];t.layoutBoxes.forEach((function(t){0===t.floor?e.push(t):n.push(t)})),c([e])}),[]);for(var l=[],s=0;s<i.length;s+=1)l.push((0,X.jsx)(Ke,{floor:s,boxPlacements:i,setBoxPlacements:c},s));return(0,X.jsx)("div",{children:(0,X.jsx)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"center"},children:l})})},Ue=function(e){var t=e.placeNumber,n=e.placeLetter,r=e.boxPlacements,i=e.setLetterColumn,c=e.setRow,l=e.floor,s="".concat(n).concat(t),o=r[l].find((function(e){return e.placement===s})),u=null===o||void 0===o?void 0:o.type,d=(null===o||void 0===o?void 0:o.value)||"";(0,a.useEffect)((function(){"editableColumn"===(null===o||void 0===o?void 0:o.type)&&i((null===o||void 0===o?void 0:o.value)||null),"editableRow"===(null===o||void 0===o?void 0:o.type)&&c(t,(null===o||void 0===o?void 0:o.value)||null)}),[]);var p=function(){},m={};return"greyRight"===u?m={background:"linear-gradient(to right, white 50%, grey 50%)"}:"greyLeft"===u?m={background:"linear-gradient(to right, grey 50%, white 50%)"}:"exit"===u&&(m={backgroundColor:"grey"}),(0,X.jsxs)("button",{type:"button",style:m,className:"rowss",onFocus:p,onMouseOver:p,onMouseDown:p,children:["seat"===u?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"blue"}}):null,"businessSeat"===u?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"#ebbd34"}}):null,"premiumSeat"===u?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"green"}}):null,"exit"===u?(0,X.jsx)(Re.Z,{className:"icon",style:{fill:"blue"}}):null,"editableColumn"===u||"editableRow"===u?(0,X.jsx)("input",{className:"input",value:d,readOnly:!0}):null]})},Je=function(e){for(var t=e.numOfRows,n=e.placeLetter,r=e.boxPlacements,i=e.setBoxPlacements,c=e.rowNumbers,l=e.setRowNumbers,o=e.floor,u=(0,a.useState)(null),d=(0,G.Z)(u,2),p=d[0],m=d[1],h=function(e,t){l((function(n){var a=(0,s.Z)(n);return a[e]=t,a}))},x=[],f=0;f<t;f+=1)x.push((0,X.jsx)(Ue,{placeLetter:n,placeNumber:f,boxPlacements:r,setBoxPlacements:i,letterColumn:p,setLetterColumn:m,rowNumber:c[f]||null,setRow:h,floor:o},"".concat(n).concat(f)));return(0,X.jsx)("div",{children:x})},Ke=function(e){for(var t=e.option,n=e.boxPlacements,r=e.setBoxPlacements,i=e.floor,c=(0,a.useState)(11),l=(0,G.Z)(c,1)[0],s=(0,a.useState)(40),o=(0,G.Z)(s,1)[0],u=(0,a.useState)(Array(50).fill(null)),d=(0,G.Z)(u,2),p=d[0],m=d[1],h=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T"],x=[],f=0;f<l;f+=1)x.push((0,X.jsx)(Je,{numOfRows:o,option:t,placeLetter:h[f],boxPlacements:n,setBoxPlacements:r,rowNumbers:p,setRowNumbers:m,floor:i},h[f]));return(0,X.jsx)("div",{className:"admin-planes",children:(0,X.jsx)("article",{className:"admin-planes-page",style:{gridTemplateColumns:"repeat(".concat(l,", var(--square-length)")},children:x})})},_e=function(e){var t=e.planeModel,n=(0,i.I0)();return(0,a.useEffect)((function(){n(function(e){return function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getOne(e.id);case 3:a=t.sent,n({type:"UPDATE_PLANEMODEL",data:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((0,p.R)("Error: Failed to update plane model.",5));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),(0,X.jsxs)("div",{children:[t.id,t.layoutBoxes?(0,X.jsx)(Ge,{planeModel:t}):"noboxes"]})},ze=_e,We=n(6386),qe=n(9831),Ve=n(1225),Ye=function(e){var t=e.routes,n=e.planes,r=(0,a.useState)((new Date).toISOString()),s=(0,G.Z)(r,2),o=s[0],d=s[1],m=(0,a.useState)((new Date).toISOString()),h=(0,G.Z)(m,2),x=h[0],f=h[1],y=(0,a.useState)(),v=(0,G.Z)(y,2),g=v[0],j=v[1],Z=(0,a.useState)(),b=(0,G.Z)(Z,2),I=b[0],w=b[1],C=(0,i.I0)();return(0,X.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),C((t={departureDate:x,arrivalDate:o,planeId:g.id,routeId:I.id},function(){var e=(0,l.Z)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.create(t);case 3:a=e.sent,n({type:"CREATE_FLIGHT",data:a}),n((0,p.R)("Succesfully created a new flight!",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,p.R)("Error: Failed to create new flight.",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:[(0,X.jsxs)("div",{className:"admin-flights-form",children:[(0,X.jsx)("div",{children:(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,autoSelect:!1,options:t.filter((function(e){return e.active})),isOptionEqualToValue:function(e,t){return e.name===t.name},getOptionLabel:function(e){var t=e.origin.name.split("-")[0],n=e.destination.name.split("-")[0];return"".concat(t,"- ").concat(n)},sx:{width:300,paddingRight:3},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{variant:"outlined",label:"Routes"}))},onChange:function(e,t){return w(t)}})}),(0,X.jsx)("div",{children:(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,autoSelect:!1,options:n.filter((function(e){return e.active})),isOptionEqualToValue:function(e,t){return e.name===t.name},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.model.name)},sx:{width:300,paddingRight:3},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{variant:"outlined",label:"Planes"}))},onChange:function(e,t){return j(t)}})}),(0,X.jsx)("div",{children:(0,X.jsx)(Ve.Z,{ampm:!1,label:"Departure Date",value:x,disablePast:!0,disableMaskedInput:!0,inputFormat:"MMM dd, yyyy - HH:mm",onChange:function(e){return f(e)},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)({className:"book-form-input"},e))}})}),(0,X.jsx)("div",{style:{paddingRight:20}}),(0,X.jsx)("div",{children:(0,X.jsx)(Ve.Z,{ampm:!1,label:"Arrival Date",disablePast:!0,inputFormat:"MMM dd, yyyy - HH:mm",disableMaskedInput:!0,value:o,onChange:function(e){return d(e)},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)({className:"book-form-input"},e))}})})]}),(0,X.jsx)(te.Z,{variant:"contained",color:"success",type:"submit",children:"Create a new flight"})]})},Qe=Ye,Xe=a.memo((function(e){var t=e.flights,n=e.routes,r=e.planes,i=(0,a.useState)(!0),l=(0,G.Z)(i,2),s=l[0],o=l[1],u=(0,a.useState)(""),d=(0,G.Z)(u,2),p=d[0],m=d[1],h=s?"Make a new flights":"cancel",x=s||{color:"error"};return(0,X.jsxs)("article",{className:"adminFlightsPage",children:[(0,X.jsx)("header",{className:"admin-flights-header",children:"Flights"}),(0,X.jsx)("div",{className:"admin-flights-form-container",children:(0,X.jsx)("div",{hidden:s,children:(0,X.jsx)(Qe,{routes:n,planes:r})})}),(0,X.jsx)("div",{className:"admin-flights-buttons",children:(0,X.jsx)(te.Z,(0,c.Z)((0,c.Z)({variant:"contained"},x),{},{onClick:function(){return o(!s)},children:h}))}),(0,X.jsxs)("div",{className:"admin-flights-table",children:[(0,X.jsx)(ce.Z,{className:"flights-searchbar",label:"Search",variant:"filled",value:p,onChange:function(e){return m(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"center",children:"Route"}),(0,X.jsx)(pe.Z,{align:"center",children:"Plane"}),(0,X.jsx)(pe.Z,{align:"center",children:"Departure Date"}),(0,X.jsx)(pe.Z,{align:"center",children:"Arrival Date"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"center",children:"".concat(e.route.origin.name.split("-")[0]," -  ").concat(e.route.destination.name.split("-")[0])}),(0,X.jsx)(pe.Z,{align:"center",children:e.plane.name}),(0,X.jsx)(pe.Z,{align:"center",children:(0,We.Z)((0,qe.Z)(e.departureDate),"MMM dd, yyyy - HH:mm")}),(0,X.jsx)(pe.Z,{align:"center",children:(0,We.Z)((0,qe.Z)(e.arrivalDate),"MMM dd, yyyy - HH:mm")}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/flights/".concat(e.id),children:"Look Up Flights"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]})})),$e=n(5909),et=n(9823),tt=function(e){for(var t=e.planeLayout,n=e.setCustomers,r=e.customerIndex,i=(0,a.useState)(t),c=(0,G.Z)(i,2),l=c[0],s=c[1],o=[],u=0;u<l.length;u+=1)o.push((0,X.jsx)(rt,{customerIndex:r,floor:u,boxPlacements:l,setBoxPlacements:s,setCustomers:n},u));return(0,a.useEffect)((function(){s(t)}),[t]),(0,X.jsx)("div",{children:(0,X.jsx)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"center"},children:o})})},nt=function(e){var t=e.placeNumber,n=e.placeLetter,a=e.boxPlacements,r=e.floor,i=e.setCustomers,c=e.customerIndex,l="".concat(n).concat(t),o=a[r].find((function(e){return e.placement===l})),u=null===o||void 0===o?void 0:o.type,d=(null===o||void 0===o?void 0:o.value)||"",p={};return"greyRight"===u?p={background:"linear-gradient(to right, white 50%, grey 50%)"}:"greyLeft"===u?p={background:"linear-gradient(to right, grey 50%, white 50%)"}:"exit"===u&&(p={backgroundColor:"grey"}),(0,X.jsxs)("button",{type:"button",style:p,className:"rowss ".concat("seat"===u||"businessSeat"===u||"premiumSeat"===u?"clickable":""),onClick:function(){"seat"!==u&&"businessSeat"!==u&&"premiumSeat"!==u||i((function(e){var t=(0,s.Z)(e);return t[c].seatId=o,t}))},children:["seat"===u?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"blue"}}):null,"businessSeat"===u?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"#ebbd34"}}):null,"premiumSeat"===u?(0,X.jsx)(V.Z,{className:"icon",style:{fill:"green"}}):null,"exit"===u?(0,X.jsx)(Re.Z,{className:"icon",style:{fill:"blue"}}):null,"occupied"===u?(0,X.jsx)(et.Z,{className:"icon"}):null,"editableColumn"===u||"editableRow"===u?(0,X.jsx)("input",{className:"input",value:d,readOnly:!0}):null]})},at=function(e){for(var t=e.numOfRows,n=e.placeLetter,a=e.boxPlacements,r=e.setBoxPlacements,i=e.floor,c=e.setCustomers,l=e.customerIndex,s=[],o=0;o<t;o+=1)s.push((0,X.jsx)(nt,{customerIndex:l,setCustomers:c,placeLetter:n,placeNumber:o,boxPlacements:a,setBoxPlacements:r,floor:i},"".concat(n).concat(o)));return(0,X.jsx)("div",{children:s})},rt=function(e){for(var t=e.boxPlacements,n=e.setBoxPlacements,r=e.floor,i=e.setCustomers,c=e.customerIndex,l=(0,a.useState)(11),s=(0,G.Z)(l,1)[0],o=(0,a.useState)(40),u=(0,G.Z)(o,1)[0],d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T"],p=[],m=0;m<s;m+=1)p.push((0,X.jsx)(at,{customerIndex:c,setCustomers:i,numOfRows:u,placeLetter:d[m],boxPlacements:t,setBoxPlacements:n,floor:r},d[m]));return(0,X.jsx)("div",{className:"admin-planes",children:(0,X.jsx)("article",{className:"admin-planes-page",style:{gridTemplateColumns:"repeat(".concat(s,", var(--square-length)")},children:p})})},it=function(e){var t=e.planeLayout,n=e.setCustomers,r=e.customerIndex,c=(0,a.useState)(!1),l=(0,G.Z)(c,2),s=l[0],o=l[1],u=(0,i.I0)(),d=function(){o(!1)};return(0,X.jsxs)("div",{children:[(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){t[0]?o(!0):u((0,p.R)("Error: Pick a flight first",5))},children:"Open form dialog"}),(0,X.jsxs)(Ee.Z,{open:s,onClose:d,maxWidth:"100%",children:[(0,X.jsx)(Se.Z,{children:"Subscribe"}),(0,X.jsx)(Ae.Z,{children:(0,X.jsx)(tt,{planeLayout:t,setCustomers:n,customerIndex:r})}),(0,X.jsxs)(ke.Z,{children:[(0,X.jsx)(te.Z,{onClick:d,children:"Cancel"}),(0,X.jsx)(te.Z,{onClick:d,children:"Subscribe"})]})]})]})},ct=function(e){var t=e.flights,n=(0,a.useState)(!1),r=(0,G.Z)(n,2),o=r[0],d=r[1],m=(0,a.useState)(1),h=(0,G.Z)(m,2),x=h[0],f=h[1],y=(0,a.useState)(""),v=(0,G.Z)(y,2),g=v[0],j=v[1],Z=(0,a.useState)(""),b=(0,G.Z)(Z,2),I=b[0],w=b[1],C=(0,a.useState)(""),N=(0,G.Z)(C,2),R=N[0],E=N[1],A=(0,a.useState)(""),S=(0,G.Z)(A,2),D=S[0],L=S[1],B=(0,a.useState)(""),P=(0,G.Z)(B,2),M=P[0],F=P[1],H=(0,a.useState)(""),O=(0,G.Z)(H,2),U=O[0],J=O[1],K=(0,a.useState)(null),_=(0,G.Z)(K,2),z=_[0],W=_[1],q=(0,a.useState)([{firstName:"",lastName:"",title:"",birthday:new Date,type:"",seatId:{id:"",nameId:""}}]),V=(0,G.Z)(q,2),Y=V[0],Q=V[1],$=(0,a.useState)([]),ee=(0,G.Z)($,2),ne=ee[0],ae=ee[1],re=(0,i.I0)();(0,a.useEffect)((function(){var e=function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.Z.getOneLayout(null===z||void 0===z?void 0:z.id);case 2:t=e.sent,n=[],t.forEach((function(e){Array.isArray(n[e.floor])||(n[e.floor]=[]),n[e.floor].push(e)})),ae(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();z&&e()}),[z]);var ie=Y.map((function(e){return e.seatId.id})),le=function(){d(!1)};return(0,X.jsxs)("div",{children:[(0,X.jsx)(te.Z,{variant:"contained",onClick:function(){d(!0)},children:"Create new Booking"}),(0,X.jsxs)(Ee.Z,{open:o,onClose:le,maxWidth:"100%",children:[(0,X.jsx)(Se.Z,{children:"Make a new booking"}),(0,X.jsx)(Ae.Z,{sx:{display:"flex",flexDirection:"column",width:"90vw",height:"110vh"},children:1===x?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(ce.Z,{sx:{paddingBottom:3,marginTop:1},label:"Voucher Code",value:g,onChange:function(e){return j(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{paddingBottom:3},label:"Promotion Code",value:I,onChange:function(e){return w(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{paddingBottom:3},label:"Phone Number",value:R,onChange:function(e){return E(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{paddingBottom:3},label:"Emergency Name",value:D,onChange:function(e){return L(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{paddingBottom:3},label:"Emergency Phone",value:M,onChange:function(e){return F(e.target.value)}}),(0,X.jsx)(ce.Z,{sx:{paddingBottom:3},label:"Email",value:U,onChange:function(e){return J(e.target.value)}}),(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,autoSelect:!1,options:t,value:z,isOptionEqualToValue:function(e,t){return e.id===t.id},getOptionLabel:function(e){return"".concat(e.route.origin.name," ----- ").concat(e.route.destination.name," Departure: ").concat((0,We.Z)((0,qe.Z)(e.departureDate),"MMM dd, yyyy - HH:mm")," Arrival: ").concat((0,We.Z)((0,qe.Z)(e.arrivalDate),"MMM dd, yyyy - HH:mm"))},sx:{marginTop:1},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{variant:"outlined",label:"Flights"}))},onChange:function(e,t){return W(t)}})]}):(0,X.jsxs)(X.Fragment,{children:[Y.map((function(e,t){var n,a,r,i,l;return(0,X.jsxs)("div",{className:"admin-booking-customer",children:[(0,X.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,autoSelect:!0,options:["Master","Miss","Mr","Ms","Mrs"],sx:{paddingBottom:3,width:200},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{required:!0,label:"Title"}))},onChange:function(e,n){return Q((function(e){var a=(0,s.Z)(e);return a[t].title=n,a}))}}),(0,X.jsx)(he.Z,{autoHighlight:!0,autoComplete:!0,autoSelect:!0,options:["Adult","Child"],sx:{paddingBottom:3,width:200},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{required:!0,label:"Type"}))},onChange:function(e,n){return Q((function(e){var a=(0,s.Z)(e);return a[t].type=n,a}))}})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(ce.Z,{required:!0,sx:{paddingBottom:3},label:"First Name",value:null===(n=Y[t])||void 0===n?void 0:n.firstName,onChange:function(e){return Q((function(n){var a=(0,s.Z)(n);return a[t].firstName=e.target.value,a}))}}),(0,X.jsx)(ce.Z,{required:!0,sx:{paddingBottom:3},label:"Last Name",value:null===(a=Y[t])||void 0===a?void 0:a.lastName,onChange:function(e){return Q((function(n){var a=(0,s.Z)(n);return a[t].lastName=e.target.value,a}))}})]}),(0,X.jsx)("div",{children:(0,X.jsx)($e.Z,{label:"Birthday",value:null===(r=Y[t])||void 0===r?void 0:r.birthday,onChange:function(e){return Q((function(n){var a=(0,s.Z)(n);return a[t].birthday=e,a}))},renderInput:function(e){return(0,X.jsx)(ce.Z,(0,c.Z)((0,c.Z)({},e),{},{required:!0,sx:{paddingBottom:3}}))}})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(ce.Z,{required:!0,disabled:!0,sx:{paddingBottom:3},label:"Seat",value:null===(i=Y[t])||void 0===i||null===(l=i.seatId)||void 0===l?void 0:l.nameId}),(0,X.jsx)(it,{planeLayout:ne.map((function(e){return e.map((function(e){return ie.includes(e.id)?(0,c.Z)((0,c.Z)({},e),{},{type:"occupied"}):e}))})),setCustomers:Q,customerIndex:t})]})]},"".concat(t))})),(0,X.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,X.jsx)(te.Z,{sx:{width:200,marginBottom:2},color:"success",variant:"contained",onClick:function(){return Q((function(e){return e.concat({firstName:"",lastName:"",title:"",birthday:new Date,type:"",seatId:{id:"",nameId:""}})}))},children:"Add Customer"}),(0,X.jsx)(te.Z,{sx:{width:200},color:"error",variant:"contained",onClick:function(){return Q((function(e){var t=(0,s.Z)(e);return t.pop(),t}))},children:"Remove Customer"})]})]})}),(0,X.jsxs)(ke.Z,{children:[(0,X.jsx)(te.Z,{color:"info",variant:"contained",onClick:function(){return f((function(e){return e-1}))},children:"Back"}),(0,X.jsx)(te.Z,{color:"info",variant:"contained",onClick:function(){return f((function(e){return e+1}))},children:"Next"}),(0,X.jsx)(te.Z,{color:"error",variant:"contained",onClick:le,children:"Cancel"}),(0,X.jsx)(te.Z,{color:"success",variant:"contained",onClick:function(){var e;""!==g&&""!==I&&""!==R&&""!==D&&""!==M&&""!==U&&""!==z?re((e={booking:{voucherCode:g,promotionCode:I,phoneNumber:R,emergencyName:D,emergencyPhone:M,email:U,flightId:z.id},customers:Y.map((function(e){return(0,c.Z)((0,c.Z)({},e),{},{seatId:e.seatId.id})}))},function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.Z.create(e);case 3:a=t.sent,n({type:"CREATE_BOOKING",data:a}),n((0,p.R)("Succesfully created a new booking!",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n((0,p.R)("Error: Failed to create new booking.",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())):re((0,p.R)("Error: Must fill out all fields",5))},children:"Create"})]})]})]})},lt=ct,st=function(e){var t=e.bookings,n=e.flights,r=(0,a.useState)(""),i=(0,G.Z)(r,2),c=i[0],l=i[1];return(0,X.jsxs)("article",{className:"admin-bookings-page",children:[(0,X.jsx)("header",{className:"admin-bookings-header",children:"Bookings"}),(0,X.jsx)("div",{className:"admin-bookings-form-container"}),(0,X.jsx)("div",{className:"admin-bookings-buttons",children:(0,X.jsx)(lt,{flights:n})}),(0,X.jsxs)("div",{className:"admin-bookings-table",children:[(0,X.jsx)(ce.Z,{className:"admin-bookings-searchBar",label:"Search",variant:"filled",value:c,onChange:function(e){return l(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{children:"Voucher Code"}),(0,X.jsx)(pe.Z,{children:"Promotion Code"}),(0,X.jsx)(pe.Z,{align:"center",children:"Phone Number"}),(0,X.jsx)(pe.Z,{align:"center",children:"Emergency Name"}),(0,X.jsx)(pe.Z,{align:"center",children:"Emergency Phone"}),(0,X.jsx)(pe.Z,{align:"center",children:"Email"}),(0,X.jsx)(pe.Z,{align:"center",children:"Flight"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{children:e.voucherCode}),(0,X.jsx)(pe.Z,{children:e.promotionCode}),(0,X.jsx)(pe.Z,{align:"center",children:e.phoneNumber}),(0,X.jsx)(pe.Z,{align:"center",children:e.emergencyName}),(0,X.jsx)(pe.Z,{align:"center",children:e.emergencyPhone}),(0,X.jsx)(pe.Z,{align:"center",children:e.email}),(0,X.jsx)(pe.Z,{align:"center",children:e.flightId}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/bookings/".concat(e.id),children:"Look Up Booking"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]})},ot=n(2044),ut="/api/customers",dt=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.post(ut,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:h.r}},e.next=3,h.x1.get(ut,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=(0,l.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h.r}},e.next=3,h.x1.delete("".concat(ut,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=(0,l.Z)(u().mark((function e(t,n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h.r}},e.next=3,h.x1.put("".concat(ut,"/activity/").concat(t),n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xt={create:dt,getAll:pt,remove:mt,update:ht},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CUSTOMER":return[].concat((0,s.Z)(e),[t.data]);case"INIT_CUSTOMERS":return t.data;case"UPDATE_CUSTOMER":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},yt=function(e){var t=e.customers,n=(0,a.useState)(!0),r=(0,G.Z)(n,2),i=r[0],l=r[1],s=(0,a.useState)(""),o=(0,G.Z)(s,2),u=o[0],d=o[1],p=i?"Make a new customer":"cancel",m=i||{color:"error"};return(0,X.jsxs)("article",{className:"admin-customers-page",children:[(0,X.jsx)("header",{className:"admin-customers-header",children:"Customers"}),(0,X.jsx)("div",{className:"admin-customers-form-container",children:(0,X.jsx)("div",{hidden:i})}),(0,X.jsx)("div",{className:"admin-customers-buttons",children:(0,X.jsx)(te.Z,(0,c.Z)((0,c.Z)({variant:"contained"},m),{},{onClick:function(){return l(!i)},children:p}))}),(0,X.jsxs)("div",{className:"admin-customers-table",children:[(0,X.jsx)(ce.Z,{className:"admin-customers-searchBar",label:"Search",variant:"filled",value:u,onChange:function(e){return d(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"right",children:"Title"}),(0,X.jsx)(pe.Z,{align:"right",children:"First Name"}),(0,X.jsx)(pe.Z,{align:"right",children:"Last Name"}),(0,X.jsx)(pe.Z,{align:"center",children:"Birthday"}),(0,X.jsx)(pe.Z,{align:"center",children:"Type"}),(0,X.jsx)(pe.Z,{align:"center",children:"Booking ID"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"right",children:e.title}),(0,X.jsx)(pe.Z,{align:"right",children:e.firstName}),(0,X.jsx)(pe.Z,{align:"right",children:e.lastName}),(0,X.jsx)(pe.Z,{align:"center",children:e.birthday}),(0,X.jsx)(pe.Z,{align:"center",children:e.type}),(0,X.jsx)(pe.Z,{align:"center",children:e.bookingId}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/customers/".concat(e.id),children:"Look Up Flights"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]})},vt=function(e){var t=e.booking,n=(0,i.I0)(),r=(0,a.useState)(""),c=(0,G.Z)(r,2),s=c[0],o=c[1];return(0,a.useEffect)((function(){n(function(e){return function(){var t=(0,l.Z)(u().mark((function t(n){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.Z.getOne(e.id);case 3:a=t.sent,n({type:"UPDATE_BOOKING",data:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((0,p.R)("Error: Failed to update booking.",5));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),t.flight?(0,X.jsxs)("div",{className:"admin-customers-page",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/bookings",children:"Back"})}),(0,X.jsxs)("div",{children:["Booking ID:",t.id]}),(0,X.jsxs)("div",{children:["Voucher Code:",t.voucherCode]}),(0,X.jsx)("header",{className:"admin-customers-header",children:"Flight"}),(0,X.jsxs)("div",{children:["Route:"," ".concat(t.flight.route.origin.name," ----- ").concat(t.flight.route.destination.name)]}),(0,X.jsxs)("div",{children:["Plane:",t.flight.plane.name]}),(0,X.jsxs)("div",{children:["Departure Date:",(0,We.Z)((0,qe.Z)(t.flight.arrivalDate),"MMM dd, yyyy - HH:mm")]}),(0,X.jsxs)("div",{children:["Arrival Date:",(0,We.Z)((0,qe.Z)(t.flight.arrivalDate),"MMM dd, yyyy - HH:mm")]}),(0,X.jsx)("header",{className:"admin-customers-header",children:"Customers"}),(0,X.jsxs)("div",{className:"admin-customers-table",children:[(0,X.jsx)(ce.Z,{className:"admin-customers-searchBar",label:"Search",variant:"filled",value:s,onChange:function(e){return o(e.target.value)}}),(0,X.jsx)(le.Z,{component:se.Z,style:{maxHeight:335},children:(0,X.jsxs)(oe.Z,{stickyHeader:!0,sx:{minWidth:650},"aria-label":"simple table",children:[(0,X.jsx)(ue.Z,{children:(0,X.jsxs)(de.Z,{children:[(0,X.jsx)(pe.Z,{children:"ID"}),(0,X.jsx)(pe.Z,{align:"right",children:"Title"}),(0,X.jsx)(pe.Z,{align:"right",children:"First Name"}),(0,X.jsx)(pe.Z,{align:"right",children:"Last Name"}),(0,X.jsx)(pe.Z,{align:"center",children:"Birthday"}),(0,X.jsx)(pe.Z,{align:"center",children:"Type"}),(0,X.jsx)(pe.Z,{align:"center",children:"Booking ID"}),(0,X.jsx)(pe.Z,{align:"center",children:"Options"})]})}),(0,X.jsx)(me.Z,{children:t.customers.map((function(e){return(0,X.jsxs)(de.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,X.jsx)(pe.Z,{component:"th",scope:"row",children:e.id}),(0,X.jsx)(pe.Z,{align:"right",children:e.title}),(0,X.jsx)(pe.Z,{align:"right",children:e.firstName}),(0,X.jsx)(pe.Z,{align:"right",children:e.lastName}),(0,X.jsx)(pe.Z,{align:"center",children:e.birthday}),(0,X.jsx)(pe.Z,{align:"center",children:e.type}),(0,X.jsx)(pe.Z,{align:"center",children:e.bookingId}),(0,X.jsxs)(pe.Z,{align:"center",children:[(0,X.jsx)(te.Z,{children:(0,X.jsx)(Y.rU,{style:{textDecoration:"none"},to:"/admin/customers/".concat(e.id),children:"Look Up Customer"})}),(0,X.jsx)(te.Z,{color:"error",children:"Delete"})]})]},e.id)}))})]})})]})]}):null},gt=vt,jt=(n(3161),n(3373)),Zt=n.n(jt),bt=function(e){var t=e.flights;if(!t[0])return(0,X.jsx)("div",{children:"No Flights To Show"});var n=(0,a.useState)(""),r=(0,G.Z)(n,2),i=r[0],s=r[1],o=(0,a.useState)(""),d=(0,G.Z)(o,2),p=d[0],m=d[1];Zt().accessToken="pk.eyJ1IjoidG9tc21pdGg4MyIsImEiOiJjbDR3amg0dngwZnd2M3FxczAxdTJiYTNiIn0.MkEz6KZXSbiLcOBUv0dQZw";var h=(0,a.useRef)(null),x=(0,a.useRef)(null),f=(0,a.useState)(122.56),y=(0,G.Z)(f,2),v=y[0],g=y[1],j=(0,a.useState)(10.72),Z=(0,G.Z)(j,2),b=Z[0],I=Z[1],w=(0,a.useState)(7),C=(0,G.Z)(w,2),N=C[0],R=C[1];return(0,a.useEffect)((function(){var e=[];t.forEach((function(t){e[t.route.id]||(e[t.route.id]=[]),e[t.route.id].push(t)}));var n=e.filter((function(e){return e})).map((function(e){return{origin:e[0].route.origin.name,destination:e[0].route.destination.name,count:e.length}})),a=[],r=function(){var e=(0,l.Z)(u().mark((function e(){var t,r,i,l,o,d,p,f,y,j,Z,w,C;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],r=[],i=function(e){var a=n[e].origin.split("(")[0].slice(0,-1).split(" "),i="";a.forEach((function(e){i="".concat(i+e,"%20")})),t.push(fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(i,".json?access_token=pk.eyJ1IjoidG9tc21pdGg4MyIsImEiOiJjbDR3amg0dngwZnd2M3FxczAxdTJiYTNiIn0.MkEz6KZXSbiLcOBUv0dQZw")));var c=n[e].destination.split("(")[0].slice(0,-1).split(" "),l="";c.forEach((function(e){l="".concat(l+e,"%20")})),r.push(fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(l,".json?access_token=pk.eyJ1IjoidG9tc21pdGg4MyIsImEiOiJjbDR3amg0dngwZnd2M3FxczAxdTJiYTNiIn0.MkEz6KZXSbiLcOBUv0dQZw")))},l=0;l<n.length;l+=1)i(l);return e.next=6,Promise.all(t);case 6:return o=e.sent,e.next=9,Promise.all(r);case 9:return d=e.sent,p=o.map((function(e){return e.json()})),f=d.map((function(e){return e.json()})),e.next=14,Promise.all(p);case 14:return y=e.sent,e.next=17,Promise.all(f);case 17:for(j=e.sent,n.forEach((function(e,t){a.push((0,c.Z)((0,c.Z)({},n[t]),{},{originLong:y[t].features[0].center[0],originLat:y[t].features[0].center[1],destLong:j[t].features[0].center[0],destLat:j[t].features[0].center[1]}))})),Z=[],w=0;w<a.length;w+=1)Z.push({type:"Feature",properties:{count:a[w].count,route:"".concat(a[w].origin," --- ").concat(a[w].destination)},geometry:{type:"LineString",coordinates:[[a[w].originLong,a[w].originLat],[a[w].destLong,a[w].destLat]]}});if(!x.current){e.next=23;break}return e.abrupt("return");case 23:if(x.current=new(Zt().Map)({container:h.current,style:"mapbox://styles/mapbox/light-v10?optimize=true",center:[v,b],zoom:N}),x.current){e.next=26;break}return e.abrupt("return");case 26:x.current.on("move",(function(){g(x.current.getCenter().lng.toFixed(4)),I(x.current.getCenter().lat.toFixed(4)),R(x.current.getZoom().toFixed(2))})),x.current.on("load",(function(){x.current.addSource("flights",{type:"geojson",data:{type:"FeatureCollection",features:Z},generateId:!0}),x.current.addLayer({id:"flights",type:"line",source:"flights",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["case",["boolean",["feature-state","hover"],!1],"#888","#888"],"line-width":["case",["boolean",["feature-state","hover"],!1],["+",10,["*",.5,["get","count"]]],["+",5,["*",.5,["get","count"]]]]}})})),C=null,x.current.on("mousemove","flights",(function(e){x.current.getCanvas().style.cursor="pointer";var t=e.features[0].properties.count,n=e.features[0].properties.route;0!==e.features.length&&(m(t),s(n),C&&x.current.removeFeatureState({source:"flights",id:C}),C=e.features[0].id,x.current.setFeatureState({source:"flights",id:C},{hover:!0}))})),x.current.on("mouseleave","flights",(function(){C+1&&x.current.setFeatureState({source:"flights",id:C},{hover:!1}),C=null,m(""),s(""),x.current.getCanvas().style.cursor=""}));case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}),[t]),(0,X.jsxs)("div",{className:"flightmap-container",children:[(0,X.jsx)("div",{ref:h,className:"map-container"}),""!==p?(0,X.jsxs)("div",{className:"infos",children:["Route:"," ",i,(0,X.jsx)("br",{}),"FlightCount:"," ",p]}):null]})},It=bt,wt=function(){var e=(0,i.v9)((function(e){return e.routes})),t=(0,i.v9)((function(e){return e.places})),n=(0,i.v9)((function(e){return e.planeModels})),c=(0,i.v9)((function(e){return e.planes})),s=(0,i.v9)((function(e){return e.flights})),o=(0,i.v9)((function(e){return e.bookings})),p=(0,i.v9)((function(e){return e.customers})),m=(0,i.I0)(),h=(0,r.bS)("/admin/routes/:id"),x=(0,r.bS)("/admin/planeModels/:id"),f=(0,r.bS)("/admin/bookings/:id"),y=h?e.find((function(e){return e.id===parseInt(h.params.id,10)})):null,v=x?n.find((function(e){return e.id===parseInt(x.params.id,10)})):null,j=f?o.find((function(e){return e.id===parseInt(f.params.id,10)})):null;return(0,a.useEffect)((function(){m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.getAll();case 3:n=e.sent,t({type:"INIT_ROUTES",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getAll();case 3:n=e.sent,t({type:"INIT_PLACES",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getAll();case 3:n=e.sent,t({type:"INIT_PLANEMODELS",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getAll();case 3:n=e.sent,t({type:"INIT_PLANES",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.getAll();case 3:n=e.sent,t({type:"INIT_FLIGHTS",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.Z.getAll();case 3:n=e.sent,t({type:"INIT_BOOKINGS",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),m(function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt.getAll();case 3:n=e.sent,t({type:"INIT_CUSTOMERS",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),(0,X.jsxs)("div",{className:"admin-app",children:[(0,X.jsx)(ee,{}),(0,X.jsxs)("section",{className:"admin-app-main",draggable:!1,children:[(0,X.jsx)(ne,{}),(0,X.jsxs)(r.Z5,{children:[(0,X.jsx)(r.AW,{path:"/routes/:id",element:(0,X.jsx)("div",{children:y?y.id:null})}),(0,X.jsx)(r.AW,{path:"/planeModels/:id",element:(0,X.jsx)(ze,{planeModel:v})}),(0,X.jsx)(r.AW,{path:"/bookings/:id",element:(0,X.jsx)(gt,{booking:j})}),(0,X.jsx)(r.AW,{path:"/routes",element:(0,X.jsx)(ve,{routes:e,places:t})}),(0,X.jsx)(r.AW,{path:"/planes",element:(0,X.jsx)(be,{planes:c,planeModels:n})}),(0,X.jsx)(r.AW,{path:"/places",element:(0,X.jsx)(Ne,{places:t})}),(0,X.jsx)(r.AW,{path:"/planeModels",element:(0,X.jsx)(Oe,{planeModels:n})}),(0,X.jsx)(r.AW,{path:"/flights",element:(0,X.jsx)(Xe,{flights:s,routes:e,planes:c})}),(0,X.jsx)(r.AW,{path:"/bookings",element:(0,X.jsx)(st,{bookings:o,flights:s})}),(0,X.jsx)(r.AW,{path:"/customers",element:(0,X.jsx)(yt,{customers:p})}),(0,X.jsx)(r.AW,{path:"/flightmap",element:(0,X.jsx)(It,{flights:s})})]})]})]})},Ct=function(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.admin}));return(0,a.useLayoutEffect)((function(){ot.Z.injectReducer("flights",A),ot.Z.injectReducer("routes",m),ot.Z.injectReducer("planes",F),ot.Z.injectReducer("places",j),ot.Z.injectReducer("planeModels",E),ot.Z.injectReducer("bookings",H),ot.Z.injectReducer("customers",ft),e((0,O.YR)())}),[]),(0,X.jsx)("div",{className:"checklogin",style:{display:"none"},children:null===t?(0,X.jsx)(ie,{}):(0,X.jsx)(wt,{})})}}}]);
//# sourceMappingURL=482.fcf7937e.chunk.js.map